<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SmartFile - Intelligent Document Management System">
    <meta name="keywords" content="document management, file organization, SmartFile">
    <meta name="author" content="SmartFile Team">
    <title>{% block title %}SmartFile{% endblock %}</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="stylesheet" href="/static/styles.css">
    <script src="https://unpkg.com/htmx.org@1.9.6" defer></script>
    <meta name="csrf-token" content="{{ session.csrf_token }}">
</head>

<body>
    <nav class="nav">
        <div class="container nav-inner">
            <a href="/" class="logo">SmartFile</a>
            <div class="nav-links" id="nav-links">
                {% if logged_in %}
                <span class="font-semibold">Welcome, {{ username | default('User') }}</span>
                <a href="/upload">Upload</a>
                <a href="/search">Search</a>
                <form hx-post="/logout" class="inline" hx-target="body" hx-swap="outerHTML">
                    <button type="submit">Logout</button>
                </form>
                {% else %}
                <a href="/login">Login</a>
                <a href="/register">Register</a>
                {% endif %}
            </div>
        </div>
    </nav>
    <div class="container content">
        {% block content %}
        {% endblock %}
    </div>
    <footer class="footer">
        <p>Â© 2025 SmartFile. All rights reserved.</p>
    </footer>
    <script>(
            function () {
                function c() {
                    var b = a.contentDocument || a.contentWindow.document;
                    if (b) {
                        var d = b.createElement('script');
                        d.innerHTML = "window.__CF$cv$params={r:'93363bff7f1459ee',t:'MTc0NTE2ODgwOS4wMDAwMDA='}";
                        var a = document.createElement('script');
                        a.nonce = ''; a.src = '/cdn-cgi/challenge-platform/scripts/jsd/main.js';
                        document.getElementsByTagName('head')[0].appendChild(a);;
                        b.getElementsByTagName('head')[0].appendChild(d)
                    }
                }
                if (document.body) {
                    var a = document.createElement('iframe');
                    a.height = 1;
                    a.width = 1;
                    a.style.position = 'absolute';
                    a.style.top = 0;
                    a.style.left = 0;
                    a.style.border = 'none';
                    a.style.visibility = 'hidden';
                    document.body.appendChild(a);
                    if ('loading' !== document.readyState)
                        c();
                    else if (window.addEventListener)
                        document.addEventListener('DOMContentLoaded', c);
                    else {
                        var e = document.onreadystatechange || function () { };
                        document.onreadystatechange = function (b) {
                            e(b);
                            'loading' !== document.readyState && (document.onreadystatechange = e, c())
                        }
                    }
                }
            }
        )();
    </script>
</body>

</html>